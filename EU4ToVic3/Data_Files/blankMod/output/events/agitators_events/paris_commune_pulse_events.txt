namespace = paris_commune_pulse_events

# 1 - Seizing Church and State
paris_commune_pulse_events.1 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "southamerica_christianity"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.1.t
	desc = paris_commune_pulse_events.1.d
	flavor = paris_commune_pulse_events.1.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_atheist
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_anarchist
						has_ideology = ideology:ideology_vanguardist
					}
				}
				is_marginal = no
			}	
		}	
	}

	immediate = {

		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_interest_group = {
				limit = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_atheist
							has_ideology = ideology:ideology_communist
							has_ideology = ideology:ideology_anarchist
							has_ideology = ideology:ideology_vanguardist
						}
					}
				}
				save_scope_as = seize_church_ig_scope
			}
			capital = {
				save_scope_as = paris_scope
			}
		}
	}

	option = { # Close the church until the commune is better established
		name = paris_commune_pulse_events.1.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			random_interest_group = {
				limit = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_atheist
							has_ideology = ideology:ideology_communist
							has_ideology = ideology:ideology_anarchist
							has_ideology = ideology:ideology_vanguardist
						}
					}
				}
				add_modifier = {
					name = divine_forclosure_modifier
					months = short_modifier_time
				}
			}
			random_scope_state = {	
				convert_population = {
					target = rel:atheist
					value = 0.1
				}
			}
		}
	}
	option = { # Find all the gold and silver.
		name = paris_commune_pulse_events.1.b
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			add_modifier = {
				name = the_riches_of_the_church_modifier
				months = short_modifier_time
			}
			every_interest_group = {
				limit = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_atheist
							has_ideology = ideology:ideology_communist
							has_ideology = ideology:ideology_anarchist
							has_ideology = ideology:ideology_vanguardist
						}
					}
					is_marginal = no
				}
				add_modifier = {
					name = capital_gains_modifier
					months = short_modifier_time
				}
			}
		}
	}
	option = { # Turn it over to [random_faction] for their meetings.
		name = paris_commune_pulse_events.1.c
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		scope:seize_church_ig_scope = {
			add_modifier = {
				name = secret_clubhouse_modifier
				months = short_modifier_time
			}
		}
		c:PRC = {
			create_character = {
				is_agitator = yes
				religion = rel:atheist
				culture = cu:french
				interest_group = scope:seize_church_ig_scope
				ideology = ideology_atheist
			}
		}
	}
}

# 2 - Forty Warning Shots
paris_commune_pulse_events.2 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "votp_prison"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	title = paris_commune_pulse_events.2.t
	desc = paris_commune_pulse_events.2.d
	flavor = paris_commune_pulse_events.2.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		any_scope_character = {
			has_role = general
			is_busy = no
			is_heir = no
			is_ruler = no
		#	hq = region_france 
		}
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_radical
						has_ideology = ideology:ideology_social_democrat
					}
				}
			}	
		}	
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

		random_scope_character = {
			limit = {
				has_role = general
				is_busy = no
				is_heir = no
				is_ruler = no
			#	hq = region_france
			}
			save_scope_as = executed_general_scope
		}
	}

	option = { # They did their duty by killing an enemy general.
		name = paris_commune_pulse_events.2.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		custom_tooltip = {
			text = paris_commune_executes_general
			scope:executed_general_scope = {
				kill_character = yes
			}
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = one_hydra_head_claimed_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # Conduct a fair trial. We are not barbarians.
		name = paris_commune_pulse_events.2.b
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		custom_tooltip = {
			text = paris_commune_pulse_events.2.tt
			scope:executed_general_scope = {
				set_variable = imprisoned_general_var
				add_modifier = {
					name = miraculous_survival_modifier
				}
				place_character_in_void = 10000
			}
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_humanitarian
								has_ideology = ideology:ideology_humanitarian_royalist
								has_ideology = ideology:ideology_reformer
							}
						}
						is_marginal = no
					}
				}
			}
			custom_tooltip = {
				text = communard_effects_header_tt
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_humanitarian
								has_ideology = ideology:ideology_humanitarian_royalist
								has_ideology = ideology:ideology_reformer
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = airs_of_civility_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # Put them in the Enfants Perdus for their bravery.
		name = paris_commune_pulse_events.2.c
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		custom_tooltip = {
			text = paris_commune_executes_general
			scope:executed_general_scope = {
				kill_character = yes
			}
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_authoritarian
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
			}
			custom_tooltip = {
				text = communard_effects_header_tt
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_authoritarian
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = war_is_the_answer_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
}

# 3 - For Want of a Nail
paris_commune_pulse_events.3 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "europenorthamerica_springtime_of_nations"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = paris_commune_pulse_events.3.t
	desc = paris_commune_pulse_events.3.d
	flavor = paris_commune_pulse_events.3.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		NOT = {
			has_variable = barricades_in_paris_var
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

		set_variable = barricades_in_paris_var
	}

	option = { # The people know their districts best.
		name = paris_commune_pulse_events.3.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			add_modifier = {
				name = modifier_popular_defense_commune
				months = short_modifier_time
			}
			every_interest_group = {
				limit = {
					NOR = {
						is_interest_group_type = ig_armed_forces
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_communist
					}
					is_marginal = no
				}
				add_modifier = {
					name = wishful_initiative_modifier
					months = short_modifier_time
				}
			}
		}
	}
	option = { # Centralize the defenses.
		name = paris_commune_pulse_events.3.b
		custom_tooltip = {
			text = commune_progress_subtract_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -10
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			ig:ig_armed_forces = {
				add_modifier = {
					name = communard_citadel_modifier
					months = short_modifier_time
				}
			}
			if = {
				limit = {
					capital = {
						any_scope_building = {
							is_building_type = building_barracks
							level < 15
						}
					}
				}
				capital = {
					create_building={
						building="building_barracks"
						level=15
						reserves=1
					}
				}
			}
			activate_law = law_type:law_professional_army
		}
		c:PRC = {
			every_interest_group = {
				limit = {
					NOR = {
						is_interest_group_type = ig_armed_forces
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_communist
					}
					is_marginal = no
				}
				add_modifier = {
					name = wages_of_pragmatism_modifier
					months = short_modifier_time
				}
			}
		}
	}
	option = { # Buffer the outer arrondissements.
		name = paris_commune_pulse_events.3.c
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			if = {
				limit = {
					capital = {
						any_scope_building = {
							is_building_type = building_barracks
							level < 10
						}
					}
				}
				capital = {
					create_building={
						building="building_barracks"
						level=10
						reserves=1
					}
				}
			}
			every_interest_group = {
				limit = {
					NOR = {
						is_interest_group_type = ig_armed_forces
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_communist
					}
					is_marginal = no
				}
				add_modifier = {
					name = wages_of_pragmatism_modifier
					months = short_modifier_time
				}
			}
		}
	}
}

# 4 - Petrol Maidens
paris_commune_pulse_events.4 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "unspecific_fire"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	title = paris_commune_pulse_events.4.t
	desc = paris_commune_pulse_events.4.d
	flavor = paris_commune_pulse_events.4.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						is_feminist_character = yes			### Converter
						AND = {
							is_oppressed_gender = yes		### Converter
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_social_democrat
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
					}
				}
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

	}

	option = { # Collateral damage happens in war.
		name = paris_commune_pulse_events.4.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		s:STATE_ILE_DE_FRANCE = {
			add_devastation = 5
		}
		if = {
			limit = {
				any_interest_group = {
					leader = {
						OR = {
							is_feminist_character = yes			### Converter
							AND = {
								is_oppressed_gender = yes		### Converter
								OR = {
									has_ideology = ideology:ideology_radical
									has_ideology = ideology:ideology_communist
									has_ideology = ideology:ideology_social_democrat
									has_ideology = ideology:ideology_anarchist
									has_ideology = ideology:ideology_vanguardist
								}
							}
						}
					}
					is_marginal = no
				}
			}
			every_interest_group = {
				limit = {
					leader = {
						OR = {
							is_feminist_character = yes			### Converter
							AND = {
								is_oppressed_gender = yes		### Converter
								OR = {
									has_ideology = ideology:ideology_radical
									has_ideology = ideology:ideology_communist
									has_ideology = ideology:ideology_social_democrat
									has_ideology = ideology:ideology_anarchist
									has_ideology = ideology:ideology_vanguardist
								}
							}
						}
					}
					is_marginal = no
				}
				leader = {
					add_modifier = {
						name = accusations_of_hysterical_mania_modifier
						months = normal_modifier_time
					}
				}
			}
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = rallying_cries_ignored_modifier
						months = short_modifier_time
					}
				}
			}		
		}
	}
	option = { # Men’s tempers get fiery in times like this.
		name = paris_commune_pulse_events.4.b
		custom_tooltip = {
			text = commune_progress_subtract_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -10
	        }
		}
		s:STATE_ILE_DE_FRANCE = {
			add_devastation = 5
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_authoritarian
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = communard_effects_header_tt
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_authoritarian
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = cries_of_havoc_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # The women must vent their fury too.
		name = paris_commune_pulse_events.4.c
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		s:STATE_ILE_DE_FRANCE = {
			add_devastation = 10
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = cries_of_havoc_modifier
						months = short_modifier_time
					}
				}
			}		
		}
	}
}

# 5 - Enemy Combatants
paris_commune_pulse_events.5 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "votp_hostile_court"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.5.t
	desc = paris_commune_pulse_events.5.d
	flavor = paris_commune_pulse_events.5.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_anarchist
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_jingoist_leader
					}
				}
				is_marginal = no
			}
		}
	}

	immediate = {
		ig:ig_armed_forces = {
			save_scope_as = armed_forces_scope
		}
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

	}

	option = { # Shoot to kill. They are enemy combatants.
		name = paris_commune_pulse_events.5.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		every_state = {
			limit = {
				state_region = s:STATE_ILE_DE_FRANCE
			}
			add_modifier = { name = modifier_slaughter_with_decrees months = 12 }
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = unacceptable_losses_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # They are traitors. Execute all who arise suspicion.
		name = paris_commune_pulse_events.5.b
		custom_tooltip = {
			text = commune_progress_subtract_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -10
	        }
		}
		every_state = {
			limit = {
				state_region = s:STATE_ILE_DE_FRANCE
			}
			add_modifier = { name = modifier_slaughter_with_decrees months = 12 multiplier = 2 }
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = moral_high_ground_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # This is barely sedition. Arrest anyone without a weapon.
		name = paris_commune_pulse_events.5.c
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = divisive_instigation_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
}

# 6 - A Priest for Your Captain
paris_commune_pulse_events.6 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "southamerica_christianity"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.6.t
	desc = paris_commune_pulse_events.6.d
	flavor = paris_commune_pulse_events.6.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_anarchist
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_atheist
					}
				}
				is_marginal = no
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

	}

	option = { # Reactionaries cannot be tolerated. Seize them all!
		name = paris_commune_pulse_events.6.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_atheist
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
								has_ideology = ideology:ideology_atheist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = to_strike_god_modifier
						months = short_modifier_time
					}
				}
			}
			capital = {	
				add_radicals_in_state = {
					value = small_radicals
					religion = rel:catholic
				}
			}
		}
	}
	option = { # Permit them to leave Paris with one bag.
		name = paris_commune_pulse_events.6.b
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_reformer
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
				}
			}
			custom_tooltip = {
				text = communard_effects_header_tt
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_reformer
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = virtue_of_mercy_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # Entomb the clerics with their church’s rubble.
		name = paris_commune_pulse_events.6.c
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			if = {
				limit = {
					NOT = {
						has_law = law_type:law_state_atheism
					}
				}
				activate_law = law_type:law_state_atheism
				capital = {	
					convert_population = {
						target = rel:atheist
						value = 0.1
					}
				}
			}
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_atheist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_atheist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = a_boldered_tomb_modifier
						months = short_modifier_time
					}
				}
			}
			capital = {	
				kill_population_percent_in_state = {
					percent = 0.05
					pop_type = clergymen
				}
				add_radicals_in_state = {
					value = medium_radicals
					religion = rel:catholic
				}
			}
		}
	}
}

# 7 - Clapped With Irons
paris_commune_pulse_events.7 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "votp_prison"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = paris_commune_pulse_events.7.t
	desc = paris_commune_pulse_events.7.d
	flavor = paris_commune_pulse_events.7.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_moderate
						has_ideology = ideology:ideology_reformer
						has_ideology = ideology:ideology_social_democrat
					}
				}
				is_marginal = no
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

	}

	option = { # They have surrendered. Begin the tribunals.
		name = paris_commune_pulse_events.7.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_reformer
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_reformer
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = virtue_of_mercy_modifier
						months = short_modifier_time
					}
				}
			}	
		}
	}
	option = { # No mercy for treason.
		name = paris_commune_pulse_events.7.b
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		add_radicals = {
			value = small_radicals
			interest_group = ig:ig_trade_unions
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = unacceptable_losses_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
}

# 8 - Four-Hundred Gun Salute
paris_commune_pulse_events.8 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "europenorthamerica_before_the_battle"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = paris_commune_pulse_events.8.t
	desc = paris_commune_pulse_events.8.d
	flavor = paris_commune_pulse_events.8.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		any_scope_character = {
			has_role = general
			is_busy = no
		#	hq = region_france 
		}
		c:PRC = {
			any_scope_character = {
				has_role = general
				is_busy = no
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

		random_scope_character = {
			limit = {
				has_role = general
				is_busy = no
			#	hq = region_france 				
			}
			save_scope_as = cannon_seizing_general_scope
		}
	}

	option = { # Leave now, while we have the element of surprise.
		name = paris_commune_pulse_events.8.a
		default_option = yes
		random_list = {
			60 = {
				custom_tooltip = paris_commune_pulse_events.8.tt_1
				custom_tooltip = {
					text = commune_progress_subtract_5
			        change_global_variable = {
			            name = paris_commune_progress_var
			            add = -5
			        }
				}
				scope:cannon_seizing_general_scope = {
					add_modifier = {
						name = first_blood_modifier
						months = short_modifier_time
					}
				}
				post_notification = paris_commune_event_8_a1
			}
			40 = {
				custom_tooltip = paris_commune_pulse_events.8.tt_2
				custom_tooltip = {
					text = commune_progress_add_10
			        change_global_variable = {
			            name = paris_commune_progress_var
			            add = 10
			        }
				}
				scope:cannon_seizing_general_scope = {
					add_modifier = {
						name = humiliation_upon_humiliation_modifier
						months = short_modifier_time
					}
				}
				c:PRC = {
					if = {
						limit = {
							any_scope_character = {
								has_role = general
							}
						}	
						custom_tooltip = {
							text = communard_effects_header_tt
						}
						every_scope_character = {
							limit = {
								has_role = general
							}
							add_modifier = {
								name = military_defectors_modifier
								months = short_modifier_time
							}	
						}
					}
				}
				post_notification = paris_commune_event_8_a2
			}
		}
	}
	option = { # There are too few men to seize them.
		name = paris_commune_pulse_events.8.b
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		c:PRC = {
			if = {
				limit = {
					any_scope_character = {
						has_role = general
					}
				}	
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_scope_character = {
					limit = {
						has_role = general
					}
					add_modifier = {
						name = first_blood_modifier
						months = short_modifier_time
					}	
				}
			}
		}
	}
	option = { # We have better guns lying around.
		name = paris_commune_pulse_events.8.c
		highlighted_option = yes
		trigger = {
			has_technology_researched = breech_loading_artillery
		}
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		c:PRC = {
			if = {
				limit = {
					any_scope_character = {
						has_role = general
					}
				}	
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_scope_character = {
					limit = {
						has_role = general
					}
					add_modifier = {
						name = first_blood_modifier
						months = short_modifier_time
						multiplier = 0.5
					}	
				}
			}
		}
	}
}

# 9 - Our Bodies, Our Rules
paris_commune_pulse_events.9 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "europenorthamerica_sufferage"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.9.t
	desc = paris_commune_pulse_events.9.d
	flavor = paris_commune_pulse_events.9.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						is_feminist_character = yes			### Converter
						AND = {
							is_oppressed_gender = yes		### Converter
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_social_democrat
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
					}
				}
				is_marginal = no
			}
		}	
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

		c:PRC = {
			random_interest_group = {
				limit = {
					leader = {
						OR = {
							is_feminist_character = yes			### Converter
							AND = {
								is_oppressed_gender = yes		### Converter
								OR = {
									has_ideology = ideology:ideology_radical
									has_ideology = ideology:ideology_communist
									has_ideology = ideology:ideology_social_democrat
									has_ideology = ideology:ideology_anarchist
									has_ideology = ideology:ideology_vanguardist
								}
							}
						}
					}
					is_marginal = no
				}
				save_scope_as = paris_feminist_ig_scope
			}
		}
		random_interest_group = {
			limit = {
				is_same_interest_group_type = scope:paris_feminist_ig_scope
			}
			save_scope_as = france_feminist_ig_scope
		}
		c:FRA = {
			save_scope_as = france_scope
		}
	}

	option = { # A woman’s body is her right.
		name = paris_commune_pulse_events.9.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		if = {
			limit = {
				NOT = {
					any_scope_character = {
						has_role = agitator
						is_feminist_character = yes			### Converter
					}
				}
			}
			custom_tooltip = {
				text = possible_feminist_agitator_spawn
				random_list = {
					50 = {
						### Converter
						if = {
							limit = {
								root = { is_matriarchal_country = yes }
							}
							create_character = {
								is_agitator = yes
								interest_group = scope:france_feminist_ig_scope
								ideology = ideology_masculist
							}
						}
						else = {
							create_character = {
								is_agitator = yes
								interest_group = scope:france_feminist_ig_scope
								ideology = ideology_feminist
							}
						}
						### Converter
					}
					50 = {
					}
				}
			}
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = assertion_of_rights_modifier
						months = short_modifier_time
					}
				}
			}	
		}
	}
	option = { # Men’s urges are best contained in those walls.
		name = paris_commune_pulse_events.9.b
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								AND = {
									is_oppressed_gender = yes		### Converter
									OR = {
										has_ideology = ideology:ideology_radical
										has_ideology = ideology:ideology_communist
										has_ideology = ideology:ideology_social_democrat
										has_ideology = ideology:ideology_anarchist
										has_ideology = ideology:ideology_vanguardist
									}
								}
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = lingering_male_gaze_modifier
						months = short_modifier_time
					}
				}
			}	
		}
	}

	option = { # They have a point. Make dens of sin illegal in totality.
		name = paris_commune_pulse_events.9.c
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			ig:ig_devout = {
				add_modifier = {
					name = fruit_of_the_loin_modifier
					months = short_modifier_time
				}
			}
		}
	}
}


# 10 - A Fortress Falls
paris_commune_pulse_events.10 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.10.t
	desc = paris_commune_pulse_events.10.d
	flavor = paris_commune_pulse_events.10.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		any_scope_character = {
			has_role = general
			is_busy = no
		#	hq = region_france 
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}
		random_scope_character = {
			limit = {
				has_role = general
				is_busy = no
			#	hq = region_france 
			}
			save_scope_as = issy_general
		}
	}

	option = {
		name = paris_commune_pulse_events.10.a
		default_option = yes
		random_list = {
			60 = {
				custom_tooltip = paris_commune_pulse_events.10.tt_1
				custom_tooltip = {
					text = commune_progress_add_10
			        change_global_variable = {
			            name = paris_commune_progress_var
			            add = 10
			        }
				}
				if = {
					limit = {
						c:PRC = {
							any_interest_group = {
								leader = {
									has_ideology = ideology:ideology_jingoist_leader
								}
							}
						}
					}
					custom_tooltip = {
						text = communard_effects_header_tt
					}
					c:PRC = {
						every_interest_group = {
							limit = {
								leader = {
									has_ideology = ideology:ideology_jingoist_leader
								}
								is_marginal = no
							}
							add_modifier = {
								name = unacceptable_losses_modifier
								months = short_modifier_time
							}
						}
					}
				}
			}
			40 = {
				custom_tooltip = paris_commune_pulse_events.10.tt_2
				custom_tooltip = {
					text = commune_progress_add_5
			        change_global_variable = {
			            name = paris_commune_progress_var
			            add = 5
			        }
				}
				if = {
					limit = {
						c:PRC = {
							any_interest_group = {
								leader = {
									OR = {
										has_ideology = ideology:ideology_moderate
										has_ideology = ideology:ideology_social_democrat
									}
								}
								is_marginal = no
							}
						}
					}
					custom_tooltip = {
						text = communard_effects_header_tt
					}
					c:PRC = {
						every_interest_group = {
							limit = {
								leader = {
									OR = {
										has_ideology = ideology:ideology_moderate
										has_ideology = ideology:ideology_social_democrat
									}
								}
								is_marginal = no
							}
							add_modifier = {
								name = an_olive_branch_modifier
								months = short_modifier_time
							}
						}
					}
				}
			}
		}
	}
	option = {
		name = paris_commune_pulse_events.10.b
		custom_tooltip = {
			text = commune_progress_subtract_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -10
	        }
		}
		add_modifier = {
			name = guidelines_of_engagement_modifier
			months = normal_modifier_time		
		}
		scope:issy_general = {
			if = {
				limit = {
					NOT = {
						has_trait = war_criminal
					}
				}
				add_trait = war_criminal
			}
		}
	}
}


# 11 - Working Co-op
paris_commune_pulse_events.11 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "votp_conspiring"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.11.t
	desc = paris_commune_pulse_events.11.d
	flavor = paris_commune_pulse_events.11.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_anarchist
					}
				}
				is_marginal = no
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}
	}

	option = { # Workers are entitled to their browsweat.
		name = paris_commune_pulse_events.11.a
		trigger = {
			c:PRC = {
				any_interest_group = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_social_democrat
							has_ideology = ideology:ideology_radical
						}
					}
					is_marginal = no
				}
			}
		}
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			every_interest_group = {
				limit = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_social_democrat
							has_ideology = ideology:ideology_radical
						}
					}
					is_marginal = no
				}
				add_modifier = {
					name = a_rapturous_promise_modifier
					months = short_modifier_time
				}
			}
			if = {
				limit = {
					has_law = law_type:law_council_republic
					NOT = {
						has_law = law_type:law_cooperative_ownership
					}
				}
				activate_law = law_type:law_cooperative_ownership
			}
		}
	}

	option = { # We should encourage other owners to leave.
		name = paris_commune_pulse_events.11.b
		default_option = yes
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			every_interest_group = {
				limit = {
					leader = {
						OR = {
							has_ideology = ideology:ideology_communist
							has_ideology = ideology:ideology_vanguardist
							has_ideology = ideology:ideology_anarchist
						}
					}
					is_marginal = no
				}
				add_modifier = {
					name = dominating_narratives_modifier
					months = short_modifier_time
				}
			}
			if = {
				limit = {
					has_law = law_type:law_council_republic
					NOT = {
						has_law = law_type:law_cooperative_ownership
					}
				}
				activate_law = law_type:law_cooperative_ownership
			}
		}
	}
}

# 12 - Off to School
paris_commune_pulse_events.12 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "votp_realist_household"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.12.t
	desc = paris_commune_pulse_events.12.d
	flavor = paris_commune_pulse_events.12.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				law_stance = {
					law = law_type:law_compulsory_primary_school
					value > neutral
				}
				is_marginal = no
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
			random_interest_group = {
				limit = {
					law_stance = {
						law = law_type:law_compulsory_primary_school
						value > neutral
					}	
				}
				save_scope_as = paris_radical_ig_scope
			}
		}
		random_interest_group = {
			limit = {
				is_same_interest_group_type = scope:paris_radical_ig_scope
			}
			save_scope_as = france_radical_ig_scope
		}
		c:FRA = {
			save_scope_as = france_scope
		}
	}

	option = { # Give us the child; we will return an adult.
		name = paris_commune_pulse_events.12.a
		default_option = yes
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			every_interest_group = {
				limit = {
					law_stance = {
						law = law_type:law_compulsory_primary_school
						value > neutral
					}
					is_marginal = no
				}
				add_modifier = {
					name = to_inherit_the_earth_modifier
					months = short_modifier_time
				}
				leader = {
					add_modifier = {
						name = to_inherit_the_earth_char_modifier
						months = short_modifier_time
					}
				}
			}
		}	
	}
	option = { # The barricades will make men of them yet.
		name = paris_commune_pulse_events.12.b
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		ig:ig_armed_forces = {
			add_modifier = {
				name = child_soldiery_modifier
				months = short_modifier_time				
			}
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_authoritarian
							}
						}
						is_marginal = no
					}
				}
			}
			custom_tooltip = {
				text = communard_effects_header_tt
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_jingoist_leader
								has_ideology = ideology:ideology_authoritarian
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = strong_borders_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # Perhaps a broken clock is correct twice a day.
		name = paris_commune_pulse_events.12.c
		if = {
			limit = {
				NOT = {
					any_scope_character = {
						has_role = agitator
						has_ideology = ideology:ideology_radical
					}
				}
			}
			custom_tooltip = {
				text = possible_radical_agitator_spawn		
				random_list = {
					50 = {
						create_character = {
							is_agitator = yes
							interest_group = scope:france_radical_ig_scope
							ideology = ideology_radical
						}
					}
					50 = {
					}
				}
			}
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						law_stance = {
							law = law_type:law_compulsory_primary_school
							value > neutral
						}
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						law_stance = {
							law = law_type:law_compulsory_primary_school
							value > neutral
						}
						is_marginal = no
					}
					add_modifier = {
						name = a_learning_future_modifier
						months = short_modifier_time
					}
				}
			}
			if = {
				limit = {
					NOT = {
						has_law = law_type:law_compulsory_primary_school
					}
				}
				activate_law = law_type:law_compulsory_primary_school
			}
		}
	}
}

# 13 - Capital Punishments
paris_commune_pulse_events.13 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "votp_prison"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.13.t
	desc = paris_commune_pulse_events.13.d
	flavor = paris_commune_pulse_events.13.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_interest_group = {
				leader = {
					OR = {
						has_ideology = ideology:ideology_radical
						has_ideology = ideology:ideology_authoritarian
					}
				}
				is_marginal = no
			}
		}	
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}

	}

	option = { # They are valuable trading chits. Leave them where they are. 
		name = paris_commune_pulse_events.13.a
		default_option = yes
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_authoritarian
							}
						}
						is_marginal = no
					}
				}		
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_authoritarian
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = holy_meat_shields_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # We could stand to give them better conditions…
		name = paris_commune_pulse_events.13.b
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
				}
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_moderate
								has_ideology = ideology:ideology_social_democrat
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = virtue_of_mercy_modifier
						months = short_modifier_time
					}
				}
			}
		}
		scope:paris_scope = {
			add_loyalists_in_state = {
				pop_type = clergymen
				value = small_radicals
			}
		}
	}
	option = { # It is our duty to speed them on their way to God.
		name = paris_commune_pulse_events.13.c
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_atheist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_atheist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = to_strike_god_modifier
						months = short_modifier_time
					}
				}
			}
		}
		scope:paris_scope = {
			add_radicals_in_state = {
				pop_type = clergymen
				value = medium_radicals
			}
		}
	}
}

# 14 - First In, Best Dressed
paris_commune_pulse_events.14 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "unspecific_military_parade"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.14.t
	desc = paris_commune_pulse_events.14.d
	flavor = paris_commune_pulse_events.14.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_scope_character = {
				has_role = general
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}
	}

	option = { # Our allegiance is to the Committee and the Commune.
		name = paris_commune_pulse_events.14.a
		default_option = yes
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_authoritarian
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
				}
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_authoritarian
								has_ideology = ideology:ideology_jingoist_leader
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = winning_minds_modifier
						months = short_modifier_time
					}
				}
			}
		}
		c:PRC = {
			every_scope_character = {
				limit = {
					has_role = general
				}
				add_modifier = {
					name = all_that_which_opposes_us_modifier
					months = short_modifier_time
				}
			}
		}
	}
	option = { # For France, and the Internationale.
		name = paris_commune_pulse_events.14.b
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = winning_minds_modifier
						months = short_modifier_time
					}
				}
			}
		}
		c:PRC = {
			every_scope_character = {
				limit = {
					has_role = general
				}
				add_modifier = {
					name = the_peoples_champions_modifier
					months = short_modifier_time
				}
			}
		}
	}
	option = { # We march for Paris.
		name = paris_commune_pulse_events.14.c
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_social_democrat
								has_ideology = ideology:ideology_republican_leader
							}
						}
						is_marginal = no
					}
				}
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_social_democrat
								has_ideology = ideology:ideology_republican_leader
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = winning_minds_modifier
						months = short_modifier_time
					}
				}
			}
		}
		c:PRC = {
			every_scope_character = {
				limit = {
					has_role = general
				}
				add_modifier = {
					name = for_homes_and_lives_modifier
					months = short_modifier_time
				}
			}
		}
	}
}

# 15 - Recusing the Republicans
paris_commune_pulse_events.15 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "europenorthamerica_political_extremism"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.15.t
	desc = paris_commune_pulse_events.15.d
	flavor = paris_commune_pulse_events.15.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		c:PRC = {
			any_scope_character = {
				OR = {
					has_ideology = ideology:ideology_communist
					has_ideology = ideology:ideology_anarchist
					has_ideology = ideology:ideology_vanguardist
				}
			}
			NOT = {
				has_law = law_type:law_council_republic
			}
		}
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
			random_scope_character = {
				limit = {
					OR = {
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_anarchist
						has_ideology = ideology:ideology_vanguardist
					}
				}
				save_scope_as = commune_leftist_leader
			}
		}
	}

	option = { # The way forward will not be determined by clerks alone.
		name = paris_commune_pulse_events.15.a
		custom_tooltip = {
			text = commune_progress_subtract_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = -5
	        }
		}
		default_option = yes
		if = {
			limit = {
				has_law = law_type:law_monarchy
			}
			add_loyalists = {
				value = small_radicals
			}
		}
		else_if = {
			add_radicals = {
				value = small_radicals
			}
		}
		c:PRC = {
			if = {
				limit = {
					NOT = {
						has_law = law_type:law_council_republic
					}
				}
				activate_law = law_type:law_council_republic
			}
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = a_glorious_dictatorship_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
	option = { # The will of the people must be upheld.
		name = paris_commune_pulse_events.15.b
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		if = {
			limit = {
				has_law = law_type:law_monarchy
			}
			ruler = {
				add_modifier = {
					name = an_enemy_of_the_republic
					months = normal_modifier_time					
				}
			}
		}
		else_if = {
			add_radicals = {
				strata = poor
				value = small_radicals
			}
		}
		c:PRC = {
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_social_democrat
								has_ideology = ideology:ideology_radical
							}
						}
						is_marginal = no
					}
				}
				custom_tooltip = {
					text = communard_effects_header_tt
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								has_ideology = ideology:ideology_social_democrat
								has_ideology = ideology:ideology_radical
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = democracy_stands_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
}

# 16 - Go and Fight!
paris_commune_pulse_events.16 = {
	type = country_event
	placement = scope:paris_scope
	event_image = {
		video = "europenorthamerica_sufferage"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = paris_commune_pulse_events.16.t
	desc = paris_commune_pulse_events.16.d
	flavor = paris_commune_pulse_events.16.f

	duration = 3

	dlc = dlc004
	
	cooldown = { months = normal_modifier_time }

	trigger = {
		
	}

	immediate = {
		c:PRC = {
			save_scope_as = paris_commune_nation_scope
			random_scope_state = {
				limit = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
				save_scope_as = paris_scope		
			}
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
					}
				}
			}
			c:PRC = {
				random_interest_group = {
					limit = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
					}
					save_scope_as = paris_radical_ig_scope
				}
			}
		}
	}

	option = { # Allow them in auxiliary roles.
		name = paris_commune_pulse_events.16.a
		default_option = yes
		custom_tooltip = {
			text = commune_progress_add_5
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 5
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			add_modifier = {
				name = modifier_woman_soldiers
				months = short_modifier_time
				multiplier = 0.5
			}
			c:PRC = {
				add_loyalists = {
					value = medium_radicals
					pop_type = soldiers
				}
			}
		}
	}

	option = { # Keep them off the battlefield in totality.
		name = paris_commune_pulse_events.16.b
		trigger = {
			c:PRC = {
				any_interest_group = {
					law_stance = {
						law = law_type:law_women_in_the_workplace
						value < neutral
					}
					is_marginal = no
				}
			}
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			every_interest_group = {
				limit = {
					law_stance = {
						law = law_type:law_women_in_the_workplace
						value < neutral
					}
					is_marginal = no
				}
				add_modifier = {
					name = modifier_progressives_stalled
					months = short_modifier_time
				}
			}
			if = {
				limit = {
					any_interest_group = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = rallying_cries_ignored_modifier
						months = short_modifier_time
					}
				}
			}
		}	
	}

	option = { # Hand them a rifle and a bayonet.
		name = paris_commune_pulse_events.16.c
		trigger = {
			c:PRC = {
				any_interest_group = {
					leader = {
						OR = {
							is_feminist_character = yes			### Converter
							has_ideology = ideology:ideology_radical
							has_ideology = ideology:ideology_communist
							has_ideology = ideology:ideology_anarchist
							has_ideology = ideology:ideology_vanguardist
						}
					}
					is_marginal = no
				}
			}
		}
		custom_tooltip = {
			text = commune_progress_add_10
	        change_global_variable = {
	            name = paris_commune_progress_var
	            add = 10
	        }
		}
		custom_tooltip = {
			text = communard_effects_header_tt
		}
		c:PRC = {
			add_modifier = {
				name = modifier_woman_soldiers
				months = short_modifier_time
			}
			add_radicals = {
				value = medium_radicals
			}
		}
		if = {
			limit = {
				c:PRC = {
					any_interest_group = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
				}
			}
			c:PRC = {
				every_interest_group = {
					limit = {
						leader = {
							OR = {
								is_feminist_character = yes			### Converter
								has_ideology = ideology:ideology_radical
								has_ideology = ideology:ideology_communist
								has_ideology = ideology:ideology_anarchist
								has_ideology = ideology:ideology_vanguardist
							}
						}
						is_marginal = no
					}
					add_modifier = {
						name = cries_of_havoc_modifier
						months = short_modifier_time
					}
				}
			}
		}
	}
}